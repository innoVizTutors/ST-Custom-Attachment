
@import '@servicenow/sass-kit/host';


  // ─── Design tokens ────────────────────────────────────────────────────────────

$color-bg:            #ffffff;
$color-bg-subtle:     #f4f7fa;
$color-bg-hover:      #eaf4fb;
$color-border:        #d8e3ee;
$color-border-active: #1d6fa4;
$color-text-primary:  #0d1f2d;
$color-text-secondary:#4a6070;
$color-text-muted:    #8a9ab0;
$color-accent:        #1d6fa4;
$color-success:       #2e7d32;
$color-success-bg:    #e8f5e9;
$color-warning:       #b45309;
$color-warning-bg:    #fef9e7;
$color-error:         #c62828;
$color-error-bg:      #fdecea;
$color-uploading:     #1565c0;
$color-uploading-bg:  #e3f0fb;

$radius-sm:  4px;
$radius-md:  8px;
$radius-lg:  12px;
$shadow-card: 0 1px 4px rgba(0,30,60,0.07);
$shadow-hover: 0 3px 12px rgba(0,30,60,0.12);
$transition: all 0.18s ease;

// ─── Root ─────────────────────────────────────────────────────────────────────

.attachment-widget {
  font-family: 'Helvetica Neue', Arial, sans-serif;
  color: $color-text-primary;
}

// ─── Upload zone ──────────────────────────────────────────────────────────────

.upload-zone {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 32px 24px;
  border: 2px dashed $color-border;
  border-radius: $radius-lg;
  background: $color-bg-subtle;
  cursor: pointer;
  user-select: none;
  transition: $transition;

  &:hover:not(.upload-zone--readonly) {
    background: $color-bg-hover;
    border-color: $color-border-active;

    .upload-zone__icon { color: $color-border-active; }
    .upload-zone__label { color: $color-border-active; }
  }

  &--dragging {
    background: $color-bg-hover;
    border-color: $color-border-active;
    border-style: solid;
  }

  &--readonly {
    cursor: default;
    opacity: 0.55;
  }

  &__icon  { color: $color-text-muted; transition: $transition; }
  &__label { margin: 0; font-size: 14px; font-weight: 600; color: $color-text-primary; transition: $transition; }
  &__hint  { margin: 0; font-size: 12px; color: $color-text-muted; }
}

// ─── Banners ──────────────────────────────────────────────────────────────────

.attachment-banner {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 12px;
  padding: 10px 14px;
  border-radius: $radius-md;
  font-size: 12.5px;
  font-weight: 500;

  span {
    flex: 1;
    word-break: break-word;
    overflow-wrap: break-word;
    min-width: 0;
  }

  &--success { background: $color-success-bg; color: $color-success; }
  &--error   { background: $color-error-bg;   color: $color-error; }

  &__close {
    background: none;
    border: none;
    cursor: pointer;
    color: inherit;
    opacity: 0.6;
    padding: 0;
    &:hover { opacity: 1; }
  }
}

// ─── List container ───────────────────────────────────────────────────────────

.preview-container {
  margin-top: 18px;

  &__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }

  &__title {
    font-size: 11px;
    font-weight: 700;
    color: $color-text-secondary;
    text-transform: uppercase;
    letter-spacing: 0.7px;
  }

  &__count {
    font-size: 11px;
    color: $color-text-muted;
    background: $color-bg-subtle;
    padding: 2px 10px;
    border-radius: 99px;
    font-weight: 600;
  }
}

// ─── File card ────────────────────────────────────────────────────────────────

.preview-card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  background: $color-bg;
  border: 1px solid $color-border;
  border-radius: $radius-md;
  box-shadow: $shadow-card;
  margin-bottom: 8px;
  transition: box-shadow 0.15s ease, border-color 0.15s ease;
  animation: fadein 0.2s ease both;

  &:last-child { margin-bottom: 0; }

  &:hover { box-shadow: $shadow-hover; }

  &--uploading {
    border-color: lighten($color-border-active, 28%);
    background: lighten($color-uploading-bg, 3%);
  }

  &--error {
    border-color: lighten($color-error, 30%);
    background: lighten($color-error-bg, 2%);
  }
}

// ─── File icon ────────────────────────────────────────────────────────────────

.file-icon-wrap {
  flex-shrink: 0;
  width: 52px;
  height: 52px;
  border-radius: $radius-sm;
  background: $color-bg-subtle;
  border: 1px solid $color-border;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
}

.file-icon {
  color: $color-text-secondary;
}

.file-ext {
  font-size: 8px;
  font-weight: 800;
  color: $color-text-muted;
  letter-spacing: 0.4px;
  text-transform: uppercase;
}

// ─── File info ────────────────────────────────────────────────────────────────

.preview-info {
  flex: 1;
  min-width: 0;

  &__name {
    margin: 0 0 3px;
    font-size: 13.5px;
    font-weight: 600;
    color: $color-text-primary;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 400px;
  }

  &__meta {
    display: flex;
    align-items: center;
    font-size: 11.5px;
    color: $color-text-muted;
    margin-bottom: 5px;
  }

  &__size { font-weight: 500; }
  &__dot  { margin: 0 5px; opacity: 0.4; }
  &__date { }
}

// ─── Status badge ─────────────────────────────────────────────────────────────

.status-badge {
  display: inline-flex;
  align-items: center;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 99px;

  span {
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }

  &--uploading { background: $color-uploading-bg; color: $color-uploading; }
  &--done      { background: $color-success-bg;   color: $color-success; }
  &--error     { background: $color-error-bg;     color: $color-error; }
  &--pending   { background: $color-warning-bg;   color: $color-warning; }
}

// ─── Progress bar ─────────────────────────────────────────────────────────────

.progress-bar {
  height: 3px;
  background: $color-border;
  border-radius: 99px;
  overflow: hidden;
  margin-top: 7px;

  &__fill {
    height: 100%;
    background: linear-gradient(90deg, $color-accent, lighten($color-accent, 16%));
    border-radius: 99px;
    transition: width 0.35s ease;
  }
}

// ─── Actions ──────────────────────────────────────────────────────────────────

.preview-actions {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 6px;
}

.action-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  height: 32px;
  border-radius: $radius-sm;
  border: 1px solid $color-border;
  background: $color-bg;
  cursor: pointer;
  transition: $transition;
  color: $color-text-secondary;
  font-size: 12px;
  font-weight: 500;
  font-family: inherit;
  white-space: nowrap;

  svg {
    flex-shrink: 0;
  }

  &:hover {
    background: $color-bg-subtle;
    border-color: $color-text-secondary;
  }

  &--delete {
    color: $color-error;

    &:hover {
      background: $color-error-bg;
      border-color: $color-error;
    }
  }

  &--download {
    color: $color-accent;

    &:hover {
      background: $color-bg-hover;
      border-color: $color-accent;
    }
  }
}

// ─── Empty / loading states ───────────────────────────────────────────────────

.attachment-empty,
.attachment-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 28px 0;
  color: $color-text-muted;

  p { margin: 0; font-size: 13px; }
}

.attachment-loading {
  flex-direction: row;
  padding: 20px 0;
  font-size: 13px;
}

// ─── Animations ───────────────────────────────────────────────────────────────

@keyframes fadein {
  from { opacity: 0; transform: translateY(5px); }
  to   { opacity: 1; transform: translateY(0); }
}

.spin {
  display: inline-flex;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
